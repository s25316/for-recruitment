Przy użyciu kursora przejrzyj dane wszystkich gości, sprawdź ile mieli rezerwacji i jaki mają procent rabatu. Jeżeli gość miał więcej niż 2 rezerwacje i nie miał rezerwacji nieopłaconych, powiększ procent rabatu o 5, ale nie może on przekroczyć 30. Po każdej operacji powiększenia rabatu wypisz komunikat z imieniem, nazwiskiem gościa oraz z wielkością poprzedniego i obecnego rabatu.
Napisz procedurę służącą do usuwania nieopłaconych rezerwacji. Usunąć nieopłaconą rezerwację można wówczas, gdy jej termin DataDo jest mniejszy od bieżącej daty. Jeżeli jest to jedyna rezerwacja danego gościa, usuń również dane tego gościa. Po każdej operacji wypisz komunikat z informacją o tym, co zostało wykonane (wraz z imieniem i nazwiskiem gościa).
Napisz wyzwalacz, który przy próbie dopisania nowej rezerwacji sprawdzi, czy gość nie ma nieopłaconych rezerwacji, których termin DataDo minął. W takim przypadku należy anulować rezerwację i wypisać stosowny komunikat.